/**
 * sutility v0.0.7 - 2015-07-14
 * Functional Library
 *
 * Copyright (c) 2015 soushians noorghorbani <snoorghorbani@gmail.com>
 * Licensed MIT
 */

(function(a){"use strict";var b=!0,c=function(){var c=function(){var c=this,d=this;this.activated=function(a,b,d,e){d=d||"active";var f=c.select(a);c.each(f,function(a){var f=c.select(b,a);c.each(f,function(a){c.event(a,"click",function(){c.className.remove(f,d),c.className.add(a,d),e&&e(this)})})})},this.argToArray=function(a){return Array.prototype.slice.call(a)},this.arrToObj=function(){var a=c.argToArray(arguments),b=a.shift(),d=a.shift(),e=a.shift(),f={};return c.each(b,function(a){var b=a[d];e&&delete a[d],f[b]=a}),f},this.array=function(a){var c=function(){};c.compact=function(b){return a.filter(b,a.i)},c.union=function(b){var c={},d=[];return a.each(b,function(a){c[a]=""}),a.each(c,function(a,b){d.push(b)}),d},c.uniq=function(a){};var e=function(b,c,d){for(var f=-1,g=b.length,h=-1,i=[];++f<g;){var j=b[f];if(a.is.array(j)&&(d||a.is.array(j)||a.is.arguments(j))){c&&(j=e(j,c,d));for(var k=-1,l=j.length;++k<l;)i[++h]=j[k]}else d||(i[++h]=j)}return i};return c.flattenDeep=function(a){var b=a?a.length:0;return b?e(a,!0):[]},c.remove=function(b,c){return a.filter(b,function(a){return c!==a})},c.shift=function(a,b){var c,e=0;if("number"==typeof b)e=b;else if(d.is["function"](b))for(var f=0;b(a[f++]);)e++;else e++;return c=a.slice(0,e),d.is.array(c)&&1===c.length?c[0]:c},c.reverse=function(c){b&&a.is.not.array(c)&&a.fail("is Not Array");for(var d=[],e=c.length-1,f=0;e>=0;e--,f++)d[f]=c[e];return d},c.concat=function(c,d){return b&&(a.is.not.array(c)&&a.fail("is Not Array"),a.is.not.array(d)&&a.fail("is Not Array")),c.concat(d)},c.indexOf=function(b,c,d){var e;return a.is["function"](c)?a.each(b,function(a,b){c.call(d,a)&&(e=b)}):e=b.indexOf(c),e},c}(this),this.assign=function(b){var c=function(){};c.ifDefined=function(b,c){return c!==a?d.safeAssign(b,c):b},c.ifNotDefined=function(b,c){return b===a?c:b}}(this),this.assignIfDefined=function(b,c){return c!==a?d.safeAssign(b,c):b},this.assignIfNotDefined=function(b,c){return b===a?c:b},this.attr=function(a,b){var c=function(){};return c}(this),this.availableDim=function(){var a=document.createElement("div");a.style.position="fixed",a.style.top="0px",a.style.right="0px",a.style.bottom="0px",a.style.left="0px",document.body.appendChild(a);var b=a.offsetHeight,c=a.offsetWidth;return a.parentNode.removeChild(a),{height:b,width:c}},this.bind=function(a,b,c){c=c||this.i},this.callConstantly=function(a){return function(a,b,c){return function(){--b;var d;return a&&(d=a.apply(c||{},arguments)),0==b&&(a=null),d}}}(this),this.callVoucher=function(a){return function(a,b,c){return setTimeout(function(){a=null},b),function(){return a?a.apply(c||{},arguments):void 0}}}(this),this.camelCase=function(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})},this.cancelBubble=function(a){var b=a?a:window.event;b.stopPropagation&&b.stopPropagation(),null!==b.cancelBubble&&(b.cancelBubble=!0)},this.canvas=function(a){var b=function(){};return b.arc=function(a,b,c,d,e,f,g){a.beginPath(),a.arc(b,c,d,e,f,g),a.closePath(),a.fill(),a.stroke()},b.rect=function(a,b,c,d,e,f,g){a.beginPath(),a.rect(b,c,d,e),a.closePath(),f!==!1&&a.fill(),g!==!1&&a.stroke()},b.text=function(a,b,c,d){a.beginPath(),a.fillText(b,c,d),a.fill(),a.closePath()},b.line=function(a,b,c){a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(c.x,c.y),a.closePath(),a.stroke()},b}(this),this.catchall=function(a){var b=null,c={},d={},e={prefix:"/defaultPrefix",partialPrefix:"/defaultPrefix/defaultFilterresult",replace:["/filter/","/filter/filterresult/"]},f={multi:!1,"default":null},g=function(b){return this.config=a.update(a.cloneObj(e),b),this};return g.prototype.key=function(b,e){c[b]=a.update(a.cloneObj(f),e);var h=decodeURIComponent(window.location.pathname),i=h.replace(this.config.prefix,"");i=i.split("/"),a.each(i,function(c){a.strStartsWith(c,b+"-")&&(d[b]=a.assignIfNotDefined(d[b],[]),c.length>b.length+1&&d[b].push(c))}),g.prototype.add=a.assignIfNotDefined(g.prototype.add,{}),g.prototype.add[b]=function(a,e){var f=b+"-"+a.toString()+(e?"-"+e.toString():"");c[b].multi?(d[b]=d[b]||[],d[b].push(f)):d[b]=[f]},g.prototype.remove=a.assignIfNotDefined(g.prototype.remove,{}),g.prototype.remove[b]=function(c,e){var f=b+"-"+c.toString()+(e?"-"+e.toString():"");d[b]=a.filter(d[b],function(a){return a.toLowerCase()!==f.toLowerCase()})},g.prototype.reset=a.assignIfNotDefined(g.prototype.reset,{}),g.prototype.reset[b]=function(){var e=c[b]["default"],f="";f=a["if"].is.equal(c[b].multi,"multi",function(){return[]}),d[b]=e?e:f}},g.prototype.partial=function(){var b=window.location.origin+this.config.partialPrefix;return a.each(d,function(c,d){a.each(c,function(c){var d=a.fine(c.split("-"),function(b){return a.is.value(b)});d&&(b+="/"+c)})}),decodeURIComponent(b.toLowerCase())},g.prototype.build=function(b){var c=window.location.origin+this.config.prefix;return a.each(d,function(b,d){a.each(b,function(b){var d=a.fine(b.split("-"),function(b){return a.is.value(b)});d&&(c+="/"+b)})}),decodeURIComponent(c.toLowerCase())},function(a){return b?b:b=new g(a)}}(this),this.categorize=function(a,b){var d={};return c.each(a,function(a){var c=a[b].toString();d[c]=d[c]||[],d[c].push(a)}),d},this.chain=function(a,b,c){return function(){var e=d.argToArray(arguments),f=d.exec(a,c||null,e),g=f?f.promise||f.$promise:null;return g?void g.then(function(){return d.exec(b,c||null,[f])}):f&&f.then?(f.then(function(){var a=d.argToArray(arguments);d.exec(b,c||null,a)}),f):d.exec(b,c||null,[f])}},this.className=function(a,b){var c=function(a,b){};return c.add=function(b,c){for(var d=a.select(b),e=0;e<d.length;e++)d[e].classList?DOMTokenList.prototype.add.apply(d[e].classList,a.spliteAndTrim(c)):-1===d[e].className.indexOf(c)&&(d[e].className=d[e].className+" "+c)},c.remove=function(b,c){for(var d=a.select(b),e=0;e<d.length;e++)if(d[e].classList)DOMTokenList.prototype.remove.apply(d[e].classList,a.spliteAndTrim(c));else{var f=new RegExp(c,"g");d[e].className=d[e].className.replace(f,"").trim()}},c.toggle=function(){},c.change=function(b,c,d){var e=a.select(b);a.className.remove(e,c),a.className.add(e,d)},c.contains=function(b,c){var d=a.selectFirst(b);return d.classList.contains(c)},c["if"]=function(b,c,d){for(var e=a.select(b),f=0;f<e.length;f++)(d(e[f])?a.className.add:a.className.remove)(e[f],c)},c}(this),this.clone=function(a){if(a.concat)return a.concat();var b={};for(var c in a)b[c]=a[c];return b},this.cloneArray=function(a){return a.concat()},this.cloneObj=function(a,b){b=c.assignIfNotDefined(b,!0);var d=c.object();for(var e in a)(b||a.hasOwnProperty(e))&&(d[e]=a[e]);return d},this.compare=function(a,b,c){switch(b){case"eq":return a==c;case"neq":return a!=c;case"grt":return a>c;case"lst":return c>a;case"ct":return a.toString().indexOf(c.toString())>-1}},this.compare.conditions={equal:"eq",neq:"neq",grt:"grt",lst:"lst",ct:"ct"},this.compileString=function(a,b,c){var d=/\{\{/,e=[],f=a.search(d);if(f>-1){e[e.length]=a.substring(0,f),a=a.substring(f);var g=a.search(/\}\}/),h=a.substring(2,g),i=b[h.trim()];this.is.object(i)&&(i=c.call(null,i)),e[e.length]=i,a=a.substring(g+2),e=e.concat(this.compileString(a,b,c))}else e[e.length]=a;return e.join("")},this.complement=function(a){return function(){return!a.apply(null,this.argToArray(arguments))}},this.config=function(a,b){for(var c in a)this[c]=b&&b[c]||a[c]},this.constValue=function(a){var b=a;return function(){return b}},this.contain=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},this.countBy=function(){},this.css=function(a){var b=function(a,b){for(var c,d=this.select(a),e=0;c=d[e];e++)for(var f in b)c.style[f]=b[f]};return b.computedValue=function(b,c,d){if(window.getComputedStyle){var e=a.selectFirst(b),f=window.getComputedStyle(e,null).getPropertyValue(c);return d&&(f=a.regex.matchFirst(f)),f}a.fail('add shim for "window.getComputedStyle" in _.css.computedValue')},b}(this),this.dashCase=function(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()})},this.data=function(a){}(this),this.dataset=function(a,b){var c=function(){};return c.add=function(){},c.get=function(a,b){return a.dataset[b]},c}(this),this.decorator=function(){},this.dictionary=function(a,b){var d={},e=function(a){d=a||{},c.extend(this,d)};return e.prototype["default"]=function(b){a.extend(d,b)},e.prototype.reset=function(a){this[a]=d[a]},e.prototype.add=function(a,b){this[a]=b},e.prototype.remove=function(a){},e.prototype.data=function(){return c.cloneObj(this,!1)},{"new":function(a){return new e(a)},listen:function(a){}}}(this),this.each=function(a,b,c,d){if(d=this.assignIfNotDefined(d,!1),!a)return!1;this.is.nodeList(a)&&this.each(this.argToArray(a),b,c);var e;if(this.is.array(a)||this.is["function"](a))for(e in a)(a.hasOwnProperty(e)||d)&&b.call(c,a[e],e);if(this.is.object(a))for(e in a)(a.hasOwnProperty(e)||d)&&b.call(c,a[e],e)},this.enableBackup=function(a,b){var c={};return c.__repository={},c.backup=function(b){return b=a.assignIfNotDefined(b,"last"),this.__repository[b]=JSON.stringify(this),this.__repository[b]},c.resotre=function(b){if(b=a.assignIfNotDefined(b,"last"),!a.is.not.defined(this.__repository[b])){var c=JSON.parse(this.__repository[b]);return a.update(this,c)}},function(b){var d=a["if"].is.not["function"](b,function(){return a.get.constructor(b)});return a.prototype.extend(d,c),d}}(this),this.event=function(a,b,c){var d=this.select(a);this.each(d,function(a){a.addEventListener(b,c)})},this.eventBus={topics:{},sub:function(a,b){this.topics[a]||(this.topics[a]=[]),this.topics[a].push(b)},unsub:function(){},pub:function(a,b){!this.topics[a]||this.topics[a].length<1||this.topics[a].forEach(function(a){a(b||{})})}},this.exec=function(){var a=this.argToArray(arguments),d=a.shift(),e=a.shift(),f=a.shift();return b&&c.is.not["function"](d)&&c.warn(d+"is not function"),d.apply(e||null,f)},this.extend=function(a,d,e){return b&&c.is.not.defined(a)&&c.fail("destination object cant be null"),c.is.array(a)?c.safeAssignArray(a,d):c.is.object(a)?(c.safeClear(a),c.each(d,function(b,c){a[c]=b},this,e)):a=d,a},this.extendFunc=function(a,b){var c=arguments[2];return function(){a.call(this),b.call(this,c)}},this.extractWrapedBy=function(a,b){var c=null;if("{}"==b)c=/\{(.*?)\}/g;else if("()"==b)c=/\((.*?)\)/g;else{if("[]"!=b)return;c=/\[(.*?)\]/g}for(var d=new RegExp(c),e=a.match(d),f=0;e&&f<e.length;f++)e[f]=e[f].substring(1,e[f].length-1);return e},this.fail=function(a){throw new Error(a)},this.filter=function(a,d){b&&c.is.not.object(d)&&c.is.not["function"](d);var e=[],f=c.is["function"](d)?d:c.rightCurry(c.is.closet)(d);return c.each(a,function(a){f(a)&&e.push(a)}),e},this.fine=function(a,b){var d=!0;return c.each(a,function(a){b(a)||(d=!1)}),d},this.fixEvent=function(a){window.event=window.event||a},this.flatTreeBy=function(a,b,e,f,g,h,i){f=f||[],i=i||0,c.each(c.cloneObj(a),function(a){a.parentIdn=g||h||"root",a.depth=i,f.push(a),a[b]&&a[b].length>0&&d.flatTreeBy(a[b],b,e,f,a[e],h,i+1),delete a[b]})},this.flyWeight=function(a,b){}(this),this.fn=function(){return function(){}},this.framework=function(a){var b=function(){},c={},e={},f={},g={};b.factory=function(b){return function(b,d){var e=a.camelCase(b);window[e+"s"]&&a.fail(e+"s exists"),window[e+"s"]={};var f=d();return c[e]=function(a,b,c){return window[e+"s"][a]=new f(a,b,c)},f}}(this),b.controller=function(b,c){var d={};return function(b,c){return e[b]={},e[b].fn=c,d[b]=e[b].scope=a.scope(),a.ready(function(){var c=a.selectFirst('[data-controller="'+b+'"]');h(e[b],c)}),e[b].scope}}(this),b.loadJS=function(b){var c=[],d={};return function(b){for(var e=a.fn(),g=[],h=0;h<b.length;h++)a.is.array(f[b[h]])?a.each(f[b[h]],function(a){f[a]||(f[a]=a),d[f[a]]||(g.push(f[a]),d[f[a]]=!1)}):d[f[b[h]]]||(g.push(f[b[h]]),d[f[b[h]]]=!1);for(var i,h=0;i=g[h];h++){var j=i;a.loadJS(j,function(b){d[b]=!0;for(var e=c.length-1;e>=0;e--)c[e].done||(c[e].depen=a.array.remove(c[e].depen,b),0===c[e].depen.length&&(c[e].done=!0,c[e].thenFn()))})}return{then:function(a){e=a,0==g.length?e():c.push({depen:g,thenFn:a})}}}}(this),b.loadCSS=function(b){return function(b){for(var c=[],e=0;e<b.length;e++)a.is.array(g[b[e]])?a.each(g[b[e]],function(a){g[a]||(g[a]=a),c.push(g[a])}):c.push(g[b[e]]);for(var e=0;e<c.length;e++)d.loadCSS(c[e]);return this}}(this),b.config=function(a){return function(a){d.extend(f,a.js),d.extend(g,a.css)}}(this);var h=function(b,d){b.fn.apply(b.scope,[b.scope,d]);for(var e in c){var f=a.dashCase(e),g=d.querySelectorAll("["+f+"]");a.each(g,function(a){var d=a.getAttribute(f),g=b.scope.config[d]||{};c[e](d,a,g)})}};return b}(this),this.freezable=function(a,b){var c={};return c.freeze=function(a){},c.unfreeze=function(a){},function(a){}}(this),this.get=function(){var a=function(){};return a.constructor=function(a){return a.constructor},a}(),this.getCumulativeOffset=function(a){var b,c;if(b=c=0,a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:c}},this.getJSON=function(a,b){var c=this.getXHR();a.url=a.url||location.href,a.data=a.data||null,b=b||function(){},a.type=a.type||"json";var d=a.url;if("jsonp"==a.type){window.jsonCallback=b;var e=d.replace("callback=?","callback=jsonCallback"),f=document.createElement("script");f.src=e,document.body.appendChild(f)}c.open("GET",a.url,!0),c.send(a.data),c.onreadystatechange=function(){200==c.status&&4==c.readyState&&b(c.responseText)}},this.getTransitionEvent=function(){var a=document.createElement("div"),b={WebkitTransition:"webkitTransitionEnd",OTransition:"TranstionEnd",MozTransition:"transtionend",transition:"transtionend"};for(var d in b)if(c.is.defined(a.style[d]))return b[d]},this.getValue=function(c,d){if(b){if(!c)return a;if(!c)return this.warn("UTILITY getValue function first parameter not defined")}if(null!==c[d])return c[d];d=d.split(".");for(var e=0,f=c[d[e++]];e<d.length;)f=f[d[e++]];return e==d.length?f:null},this.getXHR=function(){var a=new XMLHttpRequest;return a},this.groupBy=function(a,b,d){d=d||this["return"];var e={};return c.each(a,function(a){var c=a.data[b];e[c]=e[c]||[],e[c].push(d(a))}),e},this.groupByFlatMode=function(){var a=this,b=c.argToArray(arguments),d=b.shift(),e=b.shift(),f={};return this.each(d,function(b){var c="";a.each(e,function(a){c+="_"+b[a]}),f[c]=f[c]||[],f[c].push(b)}),f},this.groupByTreeMode=function(){var a=this,b=c.argToArray(arguments),d=b.shift(),e=b.shift(),f=e.shift(),g=b.shift(),h=a.groupBy(d,f,g);return c.each(h,function(b,d){e.length>0&&(h[d]=a.groupByTreeMode.call(a,b,c.cloneArray(e),g))}),d=h},this.groupIf=function(a,b,d){d=d||c["return"];var e={};return c.each(a,function(a){var c=b(a);e[c]=e[c]||[],e[c].push(d(a))}),e},this.haveKey=function(a,d){b&&c.is.not.object(a)&&this.warn("is Not Object");for(var e,f=a,g=d.split("."),h=0;e=g[h];h++){if(!f[e]&&0!==f[e])return c.warn(["dont have ",e,"property"].join(" ")),!1;c.is.not.array(f[e])&&(f=f[e])}return!0},this.i=function(a){return a},this.idMode=function(a,b){for(var c,d={},e=0;c=a[e];e++)c[b]&&(d[c[b]]=c,d[c[b]].active="");return d},this.impelemetIn=function(a){},this.indexBy=function(){},this["interface"]=function(a,b){},this.is=function(a,c){var e=function(a,b){if(a.matches)return a.matches(b);var c=this.argToArray(a.parentNode.querySelectorAll(b));return c.indexOf(a)>-1?!0:!1};e.object=function(a){return"[object Object]"===Object.prototype.toString.call(a)},e.nodeList=function(a){return"[object NodeList]"===Object.prototype.toString.call(a)},e.HTMLCollection=function(a){return"[object HTMLCollection]"===Object.prototype.toString.call(a)},e.array=function(a){return"[object Array]"===Object.prototype.toString.call(a)},e.number=function(a){return"[object Number]"===Object.prototype.toString.call(a)},e["function"]=function(a){return"[object Function]"===Object.prototype.toString.call(a)},e.string=function(a){return"[object String]"===Object.prototype.toString.call(a)},e.undefined=function(a){return"[object Undefined]"===Object.prototype.toString.call(a)},e.event=function(a){return Object.prototype.toString.call(a).toLowerCase().search("event")>0},e.defined=function(a){return"[object Undefined]"!==Object.prototype.toString.call(a)&&"[object Null]"!==Object.prototype.toString.call(a)&&""!==Object},e.json=function(){},e.error=function(){},e.startWith=function(){},e.endWith=function(){},e.value=function(a){return a?!0:!1},e.empty=function(b){if(a.is.object(0))for(var c in b)if(b.hasOwnProperty(c))return!1;return a.is.array(b)?0===b.length:!0},e.truthy=function(){},e.scalar=function(a){return e.defined(a)&&e.not.array(this.is.array)&&e.not.object(a)&&e.not["function"](a)},e.prototypeProp=function(a,b){return a[b]&&!a.hasOwnProperty(b)},e.equal=function(a,b){return JSON.stringify(a)==JSON.stringify(b)?!0:!1},e.equalText=function(c,e){return b&&(a.is.not.string(c)&&d.warn("equal function :"+c+" is Not String"),a.is.not.string(e)&&d.warn("equal function :"+e+" is Not String")),c.toLowerCase(c)===e.toLowerCase(e)?!0:!1},e.closet=function(b,c){return a.is.equal(a.partial(b,a.report.skeleton(c)),c)},e.contain=function(b,c){var d=a.is.regex(c)?c:new RegExp(c,"g");return b.match(d)&&b.match(d).length>0},e.regex=function(a){return"RegExp"===a.constructor.name};var f,g={};for(f in e)(function(a){e.hasOwnProperty(a)&&(g[a]=function(b,c,d){return!e[a](b,c,d)})})(f);e.not=g;var h={};for(f in e)(function(a){e.hasOwnProperty(a)&&(h[a]=function(a){})})(f);e.all=h;var i={};for(var j in e)(function(a){e.hasOwnProperty(a)&&(i[a]=function(a){})})(j);return e.any=i,e}(this),this["if"]=function(a){var b={};b.is={},b.is.not={};for(var c in a.is)(function(c){"not"!=c&&(b.is[c]=function(b,d){return a.is[c](b)?d():void 0},b.is.not[c]=function(b,d){return a.is.not[c](b)?d():void 0})})(c);return b}(this),this.iterator=function(a){return function(a){var b=-1;return{next:function(){return b<a.length?{value:a[++b],done:!1}:{done:!0}},prev:function(){return b>-1?{value:a[--b],done:!1}:{done:!0}},current:function(){return{value:a[b],done:!1}},index:function(){return b}}}}(this),this.keys=function(){var a=c.argToArray(arguments),b=a[0],d=[];return c.each(b,function(a,b){d.push(b)}),d},this.leftCurry=function(a,b){return b=b||d,function(){var d=c.argToArray(arguments);return function(){var e=c.array.concat(d,c.argToArray(arguments));return a.apply(b,e)}}},this.loadCSS=function(a){var b={};return function(a,c){if(!b[a]){var d=document.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("href","/"+a),document.getElementsByTagName("head")[0].appendChild(d)}}}(this),this.loadJS=function(a){var b={};return function(a,c){if(b[a])b[a].state?setTimeout(function(){c(a,a)},1):b[a].callbacks.push(c);else{b[a]={state:!1,callbacks:[]},b[a].callbacks.push(c);var d=document.createElement("script");d.setAttribute("type","text/javascript"),d.onload=function(c){var d=c.explicitOriginalTarget||c.path[0],e=d.getAttribute("src");e&&(a=e.substring(1,e.length)),b[a].state=!0;for(var f,g=0;f=b[a].callbacks[g];g++)f(a)},d.setAttribute("src","/"+a),document.getElementsByTagName("head")[0].appendChild(d)}}}(this),this.map=function(a,b,d){var e=[];return c.each(a,function(a,c,f){e.push(b.call(d,a,c,f))}),e},this.memoize=function(a){return a.cache||(a.cache={}),function(){for(var b=Array.prototype.slice.call(arguments),c="",d=b.length,e=null;d--;)e=b[d],c+=e===Object(e)?JSON.stringify(e):e;return c in a.cache?a.cache[c]:a.cache[c]=a.apply(this,b)}},this.merge=function(a,d){b&&c.is.not.object(d)&&debuggerl;var e=c.cloneObj(a);return c.each(d,function(a,b){e[b]=d[b]}),e},this.multiply=function(a,b){return a*b},this.note=function(a){},this.objToTwoDimArray=function(){var a=c.argToArray(arguments),b=a[0],d=[];return c.each(b,function(a,b){var c=[];c[0]=[a],c[1]=[b],d.push(c)}),d},this.object=function(a){var b=c.fn();return c.extend(new b,a)},this._Observable={observers:[],lastId:-1,addObserver:function(a){return this.observers.push({callback:a,id:++this.lastId}),this.lastId},removeObserver:function(a){for(var b=this.observers.length-1;b>=0;b--)if(this.observers[b],this.observers[b].id==a)return this.observers.splice(b,1),!0;return!1},notifyObservers:function(a){for(var b=this.observers.length-1;b>=0;b--)this.observers[b].callback(a)}},this.Observable=function(a,b){function c(a){this.subsciber=[]}return c.prototype.observe=function(a){this.subsciber.push(a)},c.prototype.unobserve=function(a){for(var b=0,c=this.subsciber.length;c>b;b++)if(this.subsciber[b]===a)return this.subsciber.splice(b,1),!0;return!1},c.prototype.notify=function(){for(var a=Array.prototype.slice.call(arguments,0),b=0,c=this.subsciber.length;c>b;b++)this.subsciber[b].update.apply(null,a)},c.set=function(a){},c}(this),this.on=function(a,b,c){};var e={},f={};this.onScrollDown=function(a,b){f[a]=f[a]||[],f[a].push(b)},this.onScrollTop=function(a,b){e[a]=e[a]||[],e[a].push(b)},this.onscroll=function(a){var b=[];return window.onscroll=function(){d.each(b,function(a){a()})},function(a){b.push(a)}}(window.onscroll),this.onscroll(function(){var a=window.scrollY;d.each(e,function(b,c){a>c&&d.each(e[c],function(a){a()})}),d.each(f,function(b,c){c>a&&d.each(f[c],function(a){a()})})}),this.partial=function(a,d){b&&(c.is.not.object(a),c.is.not.defined(d));var e={};c.is.not.array(d)&&(d=c.report.skeleton(d));for(var f,g=0;f=d[g];g++){var h=f.split("."),i=h.shift(),j=[h.join(".")];b&&c.is.not.defined(a[i]),c.is.not.contain(f,"\\.")?e[f]=a[f]:c.is.contain(f,"\\.")&&(e[i]=c.assignIfNotDefined(e[i]||{}),e[i]=c.merge(e[i],c.partial(a[i],j)))}return e},this.pascalCase=function(a){return a[0].toUpperCase()+a.substr(1,a.lenght)},this.pipe=function(a){var b={};return function(a,c){var a=a;return b[a]=b[a]||[],function(d){b[a].push(d),setInterval(function(){var c=b[a].shift();c&&c()},c||1)}}}(this),this.preventEvent=function(a){var b=a||window.event;b.preventDefault(),b.stopPropagation()},this.propByPrefix=function(a,b,d){d=c.assignIfNotDefined(d,!1);var e={};for(var f in a)if(0===f.search(b)){var g=d?c.camelCase(f.substr(b.length)):f;e[g]=a[f]}return e},this.prototype=function(a,b){var c=function(){};return c.extend=function(b,c){a["if"].is.not["function"](b,function(){return a.get.constructor(b)});for(var d in c)c.hasOwnProperty(d)&&(b.prototype[d]=c[d])},c}(this),this.publisher=function(a,b){var d={};return d.subscribers={any:[]},d.subscribe=function(a,b){b=b||"any";for(var d,e=c.spliteAndTrim(b),f=0;d=e[f];f++)c.is.not.defined(this.subscribers[d])&&(this.subscribers[d]=[]),this.subscribers[d].push(a)},d.unsubscribe=function(a,b){this.visitSubscribers("unsubscribe",a,b)},d.publish=function(a,b){b=c.assignIfNotDefined(b,{}),this.visitSubscribers("publish",b,a)},d.visitSubscribers=function(a,b,c){for(var d,e=c||"any",f=this.subscribers[e],g=(f.length,0);d=f[g];g++)"publish"===a?d(b):"unsubscribe"===a&&d==b&&f.splice(g,1)},function(a){a=a||{};var b;for(b in d)d.hasOwnProperty(b)&&c.is["function"](d[b])&&(a[b]=d[b]);return a.subscribers={any:[]},a}}(this),this.randColor=function(){var a=this.random(1,256).toFixed(),b=this.random(1,256).toFixed(),c=this.random(1,256).toFixed();return"rgb("+a+","+b+","+c+")"},this.randJson=function(a,b){var d=[];return c.repeat(a,function(){var a={};c.each(b,function(b){"string"==b.type?a[b.name]=c.randString(6):"number"==b.type&&(a[b.name]=c.random(0,9))},this),d.push(a)},this),d},this.randString=function(a){var b="",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";return c.repeat(a,function(){b+=d[c.random(0,d.length).toFixed()]},this),b},this.random=function(a,b){return(b-a)*Math.random()+a},this.ready=function(){var a=[];return function(b){return a.push(b),"interactive"==document.readyState?void b():void document.addEventListener("DOMContentLoaded",b,!0)}}(),this.recursive=function(){},this.regex=function(a){var b={number:/\d+/g},c=a.fn;return c.match=function(a){return a.match(b.number)},c.matchFirst=function(a){return a.match(b.number)[0]},c.type=b,c}(this),this.regularCase=function(a){return a.replace(/([A-Z])/g," $1").replace(/^./,function(a){return a.toUpperCase()})},this.remove=function(a,d){return b&&(c.is.not.array(a)&&this.fail("is Not Array"),a.length<d&&this.fail("greeter that array length")),obj.length>d?obj.splice(d,len||1):null},this.removeEventArg=function(a){c.each(a,function(b,d){b.currentScope&&b.targetScope&&c.remove(a,d)},this)},this.repeat=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(b.call(c));return d},this.replaceInArray=function(a,b,c){Array.prototype.splice.apply(a,[b,c.length+b].concat(c))},this.report=function(a){var b=function(b,c,e){var c=c||0,e=e||"",f={},g=[];if(c++,a.is.object(b)){f={};for(var h in b){var i=a.is.array(b[h]),j=a.is.object(b[h]),k=e?e+"."+h:h;f.name=h,f.path=k,f.depts=c,f.type="value",f.isLastNode=!(i||j),a.is.object(b[h])&&(f.type="object"),a.is.array(b[h])&&(f.type="array"),g.push(a.cloneObj(f)),j&&(g=g.concat(d.report(b[h],c,k))),i&&(g=g.concat(d.report(b[h][0],c,k)))}}return g};return b.skeleton=function(c){return a.array.compact(a.map(b(c),function(a){return a.isLastNode?a.path:!1}))},b}(this),this.rightCurry=function(a){return function(b){return function(){var c=d.argToArray(arguments);return function(){var e=a.array.concat(d.argToArray(arguments),c);return b.apply(d,e)}}}}(this),this.runInFunc=function(a){return this.is.not["function"](a)&&this.warn(a+"is not function"),function(){a()}},this.safeAssignArray=function(a,b){this.replaceInArray(a,0,b)},this.safeClear=function(a){if(c.is.array(a))Array.prototype.splice.apply(a,[0,a.length].concat([]));else for(var b in a)a.hasOwnProperty(b)&&delete a[b]},this.scope=function(){var a=function(){this.fn={},this.data={},this.config={},this.option={},this.event={},this.module={},this["const"]={}};return new a},this.scroll=function(){var a=function(){};return a.to=function(a,b,d){var e=c.selectFirst(a);if(!(0>d)){var f=b-window.pageYOffset,g=f/d*10;setTimeout(function(){var a=window.pageYOffset+g;window.scrollTo(0,a),e.scrollTop!==b&&c.scroll.to(e,b,d-10)},10)}},a}(),this.select=function(a,b){b=b||document.body;var c="";return c=this.is.string(a)?b.querySelectorAll(a):a,this.is.nodeList(c)?c=this.argToArray(c):this.is.HTMLCollection(c)?c=this.argToArray(c):this.is.array(c)||(c=[c]),c},this.selectFirst=function(a,b){return c.valueOf(c.select(a,b),0)},this.sortBy=function(a,b,d){return c.is["function"](b)?a.sort(b):"string"==b?a.sort(function(a,b){var e=c.getValue(a,d).toUpperCase(),f=c.getValue(b,d).toUpperCase();return f>e?-1:e>f?1:0}):"number"==b?a.sort(function(a,b){return c.getValue(a,d)>c.getValue(b,d)?1:-1}):void 0},this.spliteAndTrim=function(a){return a.split(/[\s,]+/)},this.strStartsWith=function(a,b){return 0===a.indexOf(b)},this.subSet=function(a,b){},this.transitionCallback=function(a,b){var c=this.getTransitionEvent(),d=function(){b(),a.removeEventListener(c,d)};a.addEventListener(c,d)},this.trim=function(a){return a.replace(/^\\s*(\\S*(\\s+\\S+)*)\\s*$/,"$1")},this.update=function(b,d,e){return c.is.object(d)&&c.each(b,function(c,e){d[e]!==a&&(b[e]=d[e])}),b},this.upsert=function(a,e,f,g){b&&debugMode&&c.is.not.array(a);var h=!0;c.each(a,function(b,c){f(b)&&(h=!1,d.safeAssign(a[c],e))});h&&a.push(e)},this.valueOf=function(a,b){var d;if(c.is.array(a))return a[b];d=a;for(var e,f=b.split("."),g=0;e=f[g];g++){if(!d[e])return c.warn(["dont have ",e,"property"].join(" ")),null;if(c.is.array(d[e])){for(var h,i={},j=f.splice(g+1),k=0;h=d[e][k];k++)i[k]=c.getValue2(h,j.join("."));return i}d=d[e]}return d},this.valueOfAll=function(a,b){var d=[];return c.each(a,function(a){a[b]&&d.push(a[b])}),d},this.verify=function(d,e){b&&(c.is.not.object(d)&&c.fail("is Not Object"),c.is.not.object(e)&&c.fail("is Not Object"),c.haveKey(e,"key")&&c.haveKey(e,"condition")&&c.haveKey(e,"value")||c.fail("dont have correct comparator attrs"));var f=d[e.key];return f!==a&&c.compare(f,e.condition,e.value)},this.warn=function(b){return a}};return{installHelperOn:function(a){c.call(a)},get:function(){return new c}}}();"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?exports=module.exports=c.get():this._=c.get()}).call(this);
//# sourceMappingURL=sutility-0.0.7.node.min.js.map