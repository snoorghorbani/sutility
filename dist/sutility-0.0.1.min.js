/**
 * sutility v0.0.1 - 2015-06-25
 * Functional Library
 *
 * Copyright (c) 2015 soushinas noorghorbani <snoorghorbani@gmail.com>
 * Licensed MIT
 */

(function(a){"use strict";var b=!0,c=function(){var c=function(){var c=this;this.merge=function(a,b){this.is.object(b)?this.each(b,function(c,d){a[d]=b[d]}):this.is.array(b)&&this.each(b,function(b){a.push(b)})},this.update=function(b,c,d){return this.is.object(c)&&this.each(b,function(d,e){c[e]!==a&&(b[e]=c[e])}),b},this.extend=function(a,b,c){return this.is.not.defined(a)&&this.fail("destination object cant be null"),this.is.array(a)?this.safeAssignArray(a,b):this.is.object(a)?(this.safeClear(a),this.each(b,function(b,c){a[c]=b},this,c)):a=b,a},this.assignIfDefined=function(b,d){return d!==a?c.safeAssign(b,d):b},this.assignIfNotDefined=function(b,c){return b===a?c:b},this.upsert=function(a,d,e,f){b&&this.not(this.is.array,a);var g=!0;this.each(a,function(b,f){e(b)&&(g=!1,c.safeAssign(a[f],d))});g&&a.push(d)},this.cloneObj=function(a,b){b=this.assignIfNotDefined(b,!0);var c=this.object();for(var d in a)(b||a.hasOwnProperty(d))&&(c[d]=a[d]);return c},this.cloneArray=function(a){return a.concat()},this.clone=function(a){if(a.concat)return a.concat();var b={};for(var c in a)b[c]=a[c];return b},this.each=function(a,b,c,d){if(d=this.assignIfNotDefined(d,!1),!a)return!1;this.is.nodeList(a)&&this.each(this.argToArray(a),b,c);var e;if(this.is.array(a)||this.is["function"](a))for(e in a)(a.hasOwnProperty(e)||d)&&b.call(c,a[e],e);if(this.is.object(a))for(e in a)(a.hasOwnProperty(e)||d)&&b.call(c,a[e],e)},this.map=function(a,b,c){var d=[];return this.each(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d};this.filter=function(a,b){var c=[];return this.each(a,function(a){b(a)&&c.push&&c.push(a)}),c};this.fine=function(a,b){var c=!0;return _.each(a,function(a){b(a)||(c=!1)}),c},this.indexOf=function(a,b,c){var d;return this.is["function"](b)?this.each(a,function(a,e){b.call(c,a)&&(d=e)}):d=a.indexOf(b),d},this.repeat=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(b.call(c));return d},this.extendFunc=function(a,b){var c=arguments[2];return function(){a.call(this),b.call(this,c)}},this.runOnce=function(){},this.arc=function(a,b,c,d,e,f,g){a.beginPath(),a.arc(b,c,d,e,f,g),a.closePath(),a.fill(),a.stroke()},this.rect=function(a,b,c,d,e,f,g){a.beginPath(),a.rect(b,c,d,e),a.closePath(),f!==!1&&a.fill(),g!==!1&&a.stroke()},this.text=function(a,b,c,d){a.beginPath(),a.fillText(b,c,d),a.fill(),a.closePath()},this.line=function(a,b,c){a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(c.x,c.y),a.closePath(),a.stroke()},this.argToArray=function(a){return Array.prototype.slice.call(a)},this.concat=function(a,b){return this.not(this.is.array,a)&&this.fail("is Not Array"),this.not(this.is.array,b)&&this.fail("is Not Array"),a.concat(b)},this.complement=function(a){return function(){return!a.apply(null,this.argToArray(arguments))}},this.not=function(a){var b=this.argToArray(arguments);return b.shift(),!a.apply(this,b)},this.reverseArray=function(a){this.not(this.is.array,a)&&this.fail("is Not Array");for(var b=[],c=a.length-1,d=0;c>=0;c--,d++)b[d]=a[c];return b},this.fail=function(a){throw new Error(a)},this.warn=function(b){return a},this.note=function(a){},this.remove=function(a,b){return this.not(this.is.array,a)&&this.fail("is Not Array"),a.length<b&&this.fail("greeter that array length"),a=a.splice(b,1)},this.compileString=function(a,b,c){var d=/\{\{/,e=[],f=a.search(d);if(f>-1){e[e.length]=a.substring(0,f),a=a.substring(f);var g=a.search(/\}\}/),h=a.substring(2,g),i=b[h.trim()];this.is.object(i)&&(i=c.call(null,i)),e[e.length]=i,a=a.substring(g+2),e=e.concat(this.compileString(a,b,c))}else e[e.length]=a;return e.join("")},this.haveKey=function(a,b){this.not(this.is.object,a)&&this.warn("is Not Object");for(var c,d=a,e=b.split("."),f=0;c=e[f];f++){if(!d[c]&&0!==d[c])return this.warn(["dont have ",c,"property"].join(" ")),!1;this.is.not.array(d[c])&&(d=d[c])}return!0},this.valueOf=function(a,b){var c;if(this.is.array(a))return a[b];c=a;for(var d,e=b.split("."),f=0;d=e[f];f++){if(!c[d])return this.warn(["dont have ",d,"property"].join(" ")),null;if(this.is.array(c[d])){for(var g,h={},i=e.splice(f+1),j=0;g=c[d][j];j++)h[j]=this.getValue2(g,i.join("."));return h}c=c[d]}return c},this.getValue=function(b,c){if(!b)return a;if(!b)return this.warn("UTILITY getValue function first parameter not defined");if(null!==b[c])return b[c];c=c.split(".");for(var d=0,e=b[c[d++]];d<c.length;)e=e[c[d++]];return d==c.length?e:null},this.toString=function(a){this.not(this.is.object,a)&&this.fail("is not object");var b="";for(var c in a)this.is.object(a[c])?b+=this.toString(a[c]):(b+=" , ",b+=a[c]);return b},this["interface"]=function(a,b){},this.multiply=function(a,b){return a*b},this.leftCurry=function(a,b){return b=b||c,function(){var d=c.argToArray(arguments);return function(){var e=c.concat(d,c.argToArray(arguments));return a.apply(b,e)}}},this.rightCurry=function(a){return function(){var b=c.argToArray(arguments);return function(){var d=c.concat(c.argToArray(arguments),b);return a.apply(c,d)}}},this.random=function(a,b){return(b-a)*Math.random()+a},this.runInFunc=function(a){return this.not(this.is["function"],a)&&this.warn(a+"is not function"),function(){a()}},this.randJson=function(a,b){var c=[];return this.repeat(a,function(){var a={};this.each(b,function(b){"string"==b.type?a[b.name]=this.randString(6):"number"==b.type&&(a[b.name]=this.random(0,9))},this),c.push(a)},this),c},this.randString=function(a){var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";return this.repeat(a,function(){b+=c[this.random(0,c.length).toFixed()]},this),b},this.randColor=function(){var a=this.random(1,256).toFixed(),b=this.random(1,256).toFixed(),c=this.random(1,256).toFixed();return"rgb("+a+","+b+","+c+")"},this.idMode=function(a,b){for(var c,d={},e=0;c=a[e];e++)c[b]&&(d[c[b]]=c,d[c[b]].active="");return d},this.getXHR=function(){var a=new XMLHttpRequest;return a},this.getJSON=function(a,b){var c=this.getXHR();a.url=a.url||location.href,a.data=a.data||null,b=b||function(){},a.type=a.type||"json";var d=a.url;if("jsonp"==a.type){window.jsonCallback=b;var e=d.replace("callback=?","callback=jsonCallback"),f=document.createElement("script");f.src=e,document.body.appendChild(f)}c.open("GET",a.url,!0),c.send(a.data),c.onreadystatechange=function(){200==c.status&&4==c.readyState&&b(c.responseText)}},this.exec=function(){var a=this.argToArray(arguments),b=a.shift(),c=a.shift(),d=a.shift();return this.not(this.is["function"],b)&&this.warn(b+"is not function"),b.apply(c||null,d)},this.objectKeys=function(){var a=this.argToArray(arguments),b=a[0],c=[];return this.each(b,function(a,b){c.push(b)}),c},this.valueOfAll=function(a,b){var c=[];return this.each(a,function(a){a[b]&&c.push(a[b])}),c},this.objToTwoDimArray=function(){var a=this.argToArray(arguments),b=a[0],c=[];return this.each(b,function(a,b){var d=[];d[0]=[a],d[1]=[b],c.push(d)}),c},this.arrToObj=function(){var a=this.argToArray(arguments),b=a.shift(),c=a.shift(),d=a.shift(),e={};return this.each(b,function(a){var b=a[c];d&&delete a[c],e[b]=a}),e},this.contain=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},this.subSet=function(a,b){},this.remove=function(a,b,c){return this.is.array(a)&&a.length>b?a.splice(b,c?c:1):null},this.categorize=function(a,b){var c={};return this.each(a,function(a){var d=a[b].toString();c[d]=c[d]||[],c[d].push(a)}),c},this.sortBy=function(a,b,c){var d=this;return this.is["function"](b)?a.sort(b):"string"==b?a.sort(function(a,b){var e=d.getValue(a,c).toUpperCase(),f=d.getValue(b,c).toUpperCase();return f>e?-1:e>f?1:0}):"number"==b?a.sort(function(a,b){return d.getValue(a,c)>d.getValue(b,c)?1:-1}):void 0},this.sortBy2=function(a,b,c){},this.groupBy=function(a,b,c){c=c||this["return"];var d={};return this.each(a,function(a){var e=a.data[b];d[e]=d[e]||[],d[e].push(c(a))}),d},this.groupIf=function(a,b,c){c=c||this["return"];var d={};return this.each(a,function(a){var e=b(a);d[e]=d[e]||[],d[e].push(c(a))}),d},this.groupByFlatMode=function(){var a=this,b=this.argToArray(arguments),c=b.shift(),d=b.shift(),e={};return this.each(c,function(b){var c="";a.each(d,function(a){c+="_"+b[a]}),e[c]=e[c]||[],e[c].push(b)}),e},this.groupByTreeMode=function(){var a=this,b=this.argToArray(arguments),c=b.shift(),d=b.shift(),e=d.shift(),f=b.shift(),g=a.groupBy(c,e,f);return this.each(g,function(b,c){d.length>0&&(g[c]=a.groupByTreeMode.call(a,b,_.cloneArray(d),f))}),c=g},this.indexBy=function(){},this.countBy=function(){},this.flatTreeBy=function(a,b,d,e,f,g,h){e=e||[],h=h||0,_.each(_.cloneObj(a),function(a){a.parentIdn=f||g||"root",a.depth=h,e.push(a),a[b]&&a[b].length>0&&c.flatTreeBy(a[b],b,d,e,a[d],g,h+1),delete a[b]})},this.verify=function(b,c){this.not(this.is.object,b)&&this.fail("is Not Object"),this.not(this.is.object,c)&&this.fail("is Not Object"),this.haveKey(c,"key")&&this.haveKey(c,"condition")&&this.haveKey(c,"value")||this.fail("dont have correct comparator attrs");var d=b[c.key];return d!==a&&_.compare(d,c.condition,c.value)},this.replaceInArray=function(a,b,c){Array.prototype.splice.apply(a,[b,c.length+b].concat(c))},this.safeAssignArray=function(a,b){this.replaceInArray(a,0,b)},this.safeClear=function(a){if(this.is.array(a))Array.prototype.splice.apply(a,[0,a.length].concat([]));else for(var b in a)a.hasOwnProperty(b)&&delete a[b]},this.getCumulativeOffset=function(a){var b,c;if(b=c=0,a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:c}},this.recursive=function(){},this.fn=function(){return function(){}},this.constValue=function(a){var b=a;return function(){return b}},this.i=function(a){return a},this.propByPrefix=function(a,b,c){c=_.assignIfNotDefined(c,!1);var d={};for(var e in a)if(0===e.search(b)){var f=c?this.camelCase(e.substr(b.length)):e;d[f]=a[e]}return d},this.camelCase=function(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})},this.pascalCase=function(a){return a[0].toUpperCase()+a.substr(1,a.lenght)},this.regularCase=function(a){return a.replace(/([A-Z])/g," $1").replace(/^./,function(a){return a.toUpperCase()})},this.extractWrapedBy=function(a,b){var c=null;if("{}"==b)c=/\{(.*?)\}/g;else if("()"==b)c=/\((.*?)\)/g;else{if("[]"!=b)return;c=/\[(.*?)\]/g}for(var d=new RegExp(c),e=a.match(d),f=0;e&&f<e.length;f++)e[f]=e[f].substring(1,e[f].length-1);return e},this.spliteAndTrim=function(a){return a.split(/[\s,]+/)},this.chain=function(a,b,d){return function(){var e=c.argToArray(arguments),f=c.exec(a,d||null,e),g=f?f.promise||f.$promise:null;return g?void g.then(function(){return c.exec(b,d||null,[f])}):f&&f.then?(f.then(function(){var a=c.argToArray(arguments);c.exec(b,d||null,a)}),f):c.exec(b,d||null,[f])}},this.removeEventArg=function(a){this.each(a,function(b,c){b.currentScope&&b.targetScope&&this.remove(a,c)},this)},this.dataset=function(a,b){var c=function(){};return c.add=function(){},c.get=function(a,b){return a.dataset[b]},c}(this),this.attr=function(a,b){var c=function(){};return c}(this),this.addClass=function(a,b){this.warn("change refrence");for(var c=this.select(a),d=0;d<c.length;d++)c[d].classList?DOMTokenList.prototype.add.apply(c[d].classList,_.spliteAndTrim(b)):-1===c[d].className.indexOf(b)&&(c[d].className=c[d].className+" "+b)},this.removeClass=function(a,b){this.warn("change refrence");for(var c=this.select(a),d=0;d<c.length;d++)if(c[d].classList)DOMTokenList.prototype.remove.apply(c[d].classList,_.spliteAndTrim(b));else{var e=new RegExp(b,"g");c[d].className=c[d].className.replace(e,"").trim()}},this.changeClass=function(a,b,c){this.warn("change refrence");var d=this.select(a);_.removeClass(d,b),_.addClass(d,c)},this.availableDim=function(){var a=document.createElement("div");a.style.position="fixed",a.style.top="0px",a.style.right="0px",a.style.bottom="0px",a.style.left="0px",document.body.appendChild(a);var b=a.offsetHeight,c=a.offsetWidth;return a.parentNode.removeChild(a),{height:b,width:c}},this.cancelBubble=function(a){var b=a?a:window.event;b.stopPropagation&&b.stopPropagation(),null!==b.cancelBubble&&(b.cancelBubble=!0)},this.config=function(a,b){for(var c in a)this[c]=b&&b[c]||a[c]},this.ready=function(){var a=[];return function(b){return a.push(b),"interactive"==document.readyState?void b():void document.addEventListener("DOMContentLoaded",b,!0)}}(),this.loadJS=function(a){var b={};return function(a,c){if(b[a])b[a].state?setTimeout(function(){c(a,a)},1):b[a].callbacks.push(c);else{b[a]={state:!1,callbacks:[]},b[a].callbacks.push(c);var d=document.createElement("script");d.setAttribute("type","text/javascript"),d.onload=function(c){var d=c.path[0].getAttribute("src");d=d.substring(1,d.length),b[a].state=!0;for(var e,f=0;e=b[a].callbacks[f];f++)e(d,a)},d.setAttribute("src","/"+a),document.getElementsByTagName("head")[0].appendChild(d)}}}(this),this.loadCSS=function(a){var b={};return function(a,c){if(!b[a]){var d=document.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("href","/"+a),document.getElementsByTagName("head")[0].appendChild(d)}}}(this),this.data=function(a){}(this),this.scope=function(){var a=function(){this.fn={},this.data={},this.config={},this.option={},this.event={},this.module={},this["const"]={}};return new a},this.eventBus={topics:{},sub:function(a,b){this.topics[a]||(this.topics[a]=[]),this.topics[a].push(b)},unsub:function(){},pub:function(a,b){!this.topics[a]||this.topics[a].length<1||this.topics[a].forEach(function(a){a(b||{})})}},this._Observable={observers:[],lastId:-1,addObserver:function(a){return this.observers.push({callback:a,id:++this.lastId}),this.lastId},removeObserver:function(a){for(var b=this.observers.length-1;b>=0;b--)if(this.observers[b],this.observers[b].id==a)return this.observers.splice(b,1),!0;return!1},notifyObservers:function(a){for(var b=this.observers.length-1;b>=0;b--)this.observers[b].callback(a)}},this.Observable=function(a,b){function c(a){this.subsciber=[]}return c.prototype.observe=function(a){this.subsciber.push(a)},c.prototype.unobserve=function(a){for(var b=0,c=this.subsciber.length;c>b;b++)if(this.subsciber[b]===a)return this.subsciber.splice(b,1),!0;return!1},c.prototype.notify=function(){for(var a=Array.prototype.slice.call(arguments,0),b=0,c=this.subsciber.length;c>b;b++)this.subsciber[b].update.apply(null,a)},c.set=function(a){},c}(this),this.decorator=function(){},this.impelemetIn=function(a){},this.freezable=function(a,b){var c={};return c.freeze=function(a){},c.unfreeze=function(a){},function(a){}}(this),this.get=function(){var a=function(){};return a.constructor=function(a){return a.constructor},a}(),this.prototype=function(a,b){var c=function(){};return c.extend=function(b,c){a["if"].is.not["function"](b,function(){return a.get.constructor(b)});for(var d in c)c.hasOwnProperty(d)&&(b.prototype[d]=c[d])},c}(this),this.on=function(a,b,c){},this.event=function(a,b,c){var d=this.select(a);this.each(d,function(a){a.addEventListener(b,c)})},this.fixEvent=function(a){window.event=window.event||a},this.bind=function(a,b,c){c=c||this.i},this.activated=function(a,b,c,d){c=c||"active";var e=_.select(a);_.each(e,function(a){var e=_.select(b,a);_.each(e,function(a){_.event(a,"click",function(){_.removeClass(e,c),_.addClass(a,c),d&&d(this)})})})},this.regex=function(a){var b={number:/\d+/g},c=a.fn;return c.match=function(a){return a.match(b.number)},c.matchFirst=function(a){return a.match(b.number)[0]},c.type=b,c}(this),this.shift=function(a,b){var d,e=0;if("number"==typeof b)e=b;else if(c.is["function"](b))for(var f=0;b(a[f++]);)e++;else e++;return d=a.slice(0,e),c.is.array(d)&&1===d.length?d[0]:d};var d={},e={};this.onScrollDown=function(a,b){e[a]=e[a]||[],e[a].push(b)},this.onScrollTop=function(a,b){d[a]=d[a]||[],d[a].push(b)},this.onscroll=function(a){var b=[];return window.onscroll=function(){c.each(b,function(a){a()})},function(a){b.push(a)}}(window.onscroll),this.preventEvent=function(a){var b=a||window.event;b.preventDefault(),b.stopPropagation()},this.object=function(a){var b=_.fn();return _.extend(new b,a)},this.strStartsWith=function(a,b){return 0===a.indexOf(b)},this.onscroll(function(){var a=window.scrollY;c.each(d,function(b,e){a>e&&c.each(d[e],function(a){a()})}),c.each(e,function(b,d){d>a&&c.each(e[d],function(a){a()})})}),this.array=function(a){var b=function(){};b.compact=function(b){return a.filter(b,a.i)},b.union=function(b){var c={},d=[];return a.each(b,function(a){c[a]=""}),a.each(c,function(a,b){d.push(b)}),d},b.uniq=function(a){};var c=function(b,d,e){for(var f=-1,g=b.length,h=-1,i=[];++f<g;){var j=b[f];if(a.is.array(j)&&(e||a.is.array(j)||a.is.arguments(j))){d&&(j=c(j,d,e));for(var k=-1,l=j.length;++k<l;)i[++h]=j[k]}else e||(i[++h]=j)}return i};return b.flattenDeep=function(a){var b=a?a.length:0;return b?c(a,!0):[]},b.remove=function(b,c){return a.filter(b,function(a){return c!==a})},b}(this),this.callConstantly=function(a){return function(a,b,c){return function(){--b;var d;return a&&(d=a.apply(c||{},arguments)),0==b&&(a=null),d}}}(this),this.callVoucher=function(a){return function(a,b,c){return setTimeout(function(){a=null},b),function(){return a?a.apply(c||{},arguments):void 0}}}(this),this.catchall=function(a){var b=null,c={},d={},e={prefix:"/defaultPrefix",partialPrefix:"/defaultPrefix/defaultFilterresult",replace:["/filter/","/filter/filterresult/"]},f={multi:!1,"default":null},g=function(b){return this.config=a.update(a.cloneObj(e),b),this};return g.prototype.key=function(b,e){c[b]=a.update(a.cloneObj(f),e);var h=decodeURIComponent(window.location.pathname),i=h.replace(this.config.prefix,"");i=i.split("/"),a.each(i,function(c){a.strStartsWith(c,b+"-")&&(d[b]=a.assignIfNotDefined(d[b],[]),c.length>b.length+1&&d[b].push(c))}),g.prototype.add=a.assignIfNotDefined(g.prototype.add,{}),g.prototype.add[b]=function(a,e){var f=b+"-"+a.toString()+(e?"-"+e.toString():"");c[b].multi?(d[b]=d[b]||[],d[b].push(f)):d[b]=[f]},g.prototype.remove=a.assignIfNotDefined(g.prototype.remove,{}),g.prototype.remove[b]=function(c,e){var f=b+"-"+c.toString()+(e?"-"+e.toString():"");d[b]=a.filter(d[b],function(a){return a!==f})},g.prototype.reset=a.assignIfNotDefined(g.prototype.reset,{}),g.prototype.reset[b]=function(){var e=c[b]["default"],f="";f=a["if"].is.equal(c[b].multi,"multi",function(){return[]}),d[b]=e?e:f}},g.prototype.partial=function(){var b=window.location.origin+this.config.partialPrefix;return a.each(d,function(c,d){a.each(c,function(c){var d=a.fine(c.split("-"),function(b){return a.is.value(b)});d&&(b+="/"+c)})}),decodeURIComponent(b.toLowerCase())},g.prototype.build=function(b){var c=window.location.origin+this.config.prefix;return a.each(d,function(b,d){a.each(b,function(b){var d=a.fine(b.split("-"),function(b){return a.is.value(b)});d&&(c+="/"+b)})}),decodeURIComponent(c.toLowerCase())},function(a){return b?b:b=new g(a)}}(this),this.className=function(a,b){var c=function(a,b){};return c.add=function(b,c){for(var d=a.select(b),e=0;e<d.length;e++)d[e].classList?DOMTokenList.prototype.add.apply(d[e].classList,a.spliteAndTrim(c)):-1===d[e].className.indexOf(c)&&(d[e].className=d[e].className+" "+c)},c.remove=function(b,c){for(var d=a.select(b),e=0;e<d.length;e++)if(d[e].classList)DOMTokenList.prototype.remove.apply(d[e].classList,a.spliteAndTrim(c));else{var f=new RegExp(c,"g");d[e].className=d[e].className.replace(f,"").trim()}},c.toggle=function(){},c.change=function(b,c,d){var e=a.select(b);a.removeClass(e,c),a.addClass(e,d)},c}(this),this.compare=function(a,b,c){switch(b){case"eq":return a==c;case"neq":return a!=c;case"grt":return a>c;case"lst":return c>a;case"ct":return a.toString().indexOf(c.toString())>-1}},this.compare.conditions={equal:"eq",neq:"neq",grt:"grt",lst:"lst",ct:"ct"},this.css=function(a){var b=function(a,b){for(var c,d=this.select(a),e=0;c=d[e];e++)for(var f in b)c.style[f]=b[f]};return b.computedValue=function(b,c,d){if(window.getComputedStyle){var e=a.selectFirst(b),f=window.getComputedStyle(e,null).getPropertyValue(c);return d&&(f=a.regex.matchFirst(f)),f}a.fail('add shim for "window.getComputedStyle" in _.css.computedValue')},b}(this),this.dictionary=function(a,b){var c={},d=function(a){c=a||{},_.extend(this,c)};return d.prototype["default"]=function(b){a.extend(c,b)},d.prototype.reset=function(a){this[a]=c[a]},d.prototype.add=function(a,b){this[a]=b},d.prototype.remove=function(a){},d.prototype.data=function(){return _.cloneObj(this,!1)},{"new":function(a){return new d(a)},listen:function(a){}}}(this),this.enableBackup=function(a,b){var c={};return c.__repository={},c.backup=function(b){return b=a.assignIfNotDefined(b,"last"),this.__repository[b]=JSON.stringify(this),this.__repository[b]},c.resotre=function(b){if(b=a.assignIfNotDefined(b,"last"),!a.is.not.defined(this.__repository[b])){var c=JSON.parse(this.__repository[b]);return a.update(this,c)}},function(b){var d=a["if"].is.not["function"](b,function(){return a.get.constructor(b)});return a.prototype.extend(d,c),d}}(this),this.flyWeight=function(a,b){}(this),this.framework=function(a){var b=function(){},d={},e={},f={},g={};b.factory=function(b){return function(b,c){window[camelCaseName+"s"]&&a.fail(camelCaseName+"s exists"),window[camelCaseName+"s"]={};var e=c();d[camelCaseName]=function(a,b,c){return window[camelCaseName+"s"][a]=new e(a,b,c)}}}(this),b.controller=function(b,c){var d={};return function(b,c){return e[b]={},e[b].fn=c,d[b]=e[b].scope=a.scope(),a.ready(function(){var c=a.selectFirst('[data-controller="'+b+'"]');h(e[b],c)}),e[b].scope}}(this),b.loadJS=function(b){var c=[],d={};return function(b){for(var e=a.fn(),g=[],h=0;h<b.length;h++)a.is.array(f[b[h]])?a.each(f[b[h]],function(a){f[a]||(f[a]=a),d[f[a]]||(g.push(f[a]),d[f[a]]=!1)}):d[f[b[h]]]||(g.push(f[b[h]]),d[f[b[h]]]=!1);for(var i,h=0;i=g[h];h++){var j=i;a.loadJS(j,function(b){d[b]=!0;for(var e=c.length-1;e>=0;e--)c[e].done||(c[e].depen=a.array.remove(c[e].depen,b),0===c[e].depen.length&&(c[e].done=!0,c[e].thenFn()))})}return{then:function(a){e=a,0==g.length?e():c.push({depen:g,thenFn:a})}}}}(this),b.loadCSS=function(b){return function(b){for(var d=[],e=0;e<b.length;e++)a.is.array(g[b[e]])?a.each(g[b[e]],function(a){g[a]||(g[a]=a),d.push(g[a])}):d.push(g[b[e]]);for(var e=0;e<d.length;e++)c.loadCSS(d[e]);return this}}(this),b.config=function(a){return function(a){c.extend(f,a.js),c.extend(g,a.css)}}(this);var h=function(b,c){b.fn.apply(b.scope,[b.scope,c]);for(var e in d){var f=a.dashCase(e),g=c.querySelectorAll("["+f+"]");a.each(g,function(a){var c=a.getAttribute(f),g=b.scope.config[c]||{};d[e](c,a,g)})}};return b}(this),this.is=function(a,b){var d=function(a,b){if(a.matches)return a.matches(b);var c=this.argToArray(a.parentNode.querySelectorAll(b));return c.indexOf(a)>-1?!0:!1};d.object=function(a){return"[object Object]"===Object.prototype.toString.call(a)},d.nodeList=function(a){return"[object NodeList]"===Object.prototype.toString.call(a)},d.HTMLCollection=function(a){return"[object HTMLCollection]"===Object.prototype.toString.call(a)},d.array=function(a){return"[object Array]"===Object.prototype.toString.call(a)},d.number=function(a){return"[object Number]"===Object.prototype.toString.call(a)},d["function"]=function(a){return"[object Function]"===Object.prototype.toString.call(a)},d.string=function(a){return"[object String]"===Object.prototype.toString.call(a)},d.undefined=function(a){return"[object Undefined]"===Object.prototype.toString.call(a)},d.event=function(a){return!!Object.prototype.toString.call(a).toLowerCase().search("event")},d.defined=function(a){return"[object Undefined]"!==Object.prototype.toString.call(a)&&"[object Null]"!==Object.prototype.toString.call(a)&&""!==Object},d.json=function(){},d.error=function(){},d.startWith=function(){},d.endWith=function(){},d.value=function(a){return a?!0:!1},d.empty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},d.truthy=function(){},d.scalar=function(a){return d.defined(a)&&d.not.array(this.is.array)&&d.not.object(a)&&d.not["function"](a)},d.prototypeProp=function(a,b){return a[b]&&!a.hasOwnProperty(b)},d.equal=function(a,b){return a||c.warn("equal function :"+a+" is Not Object"),b||c.warn("equal function :"+b+" is Not Object"),JSON.stringify(a)==JSON.stringify(b)?!0:!1};var e,f={};for(e in d)(function(a){d.hasOwnProperty(a)&&(f[a]=function(b){return!d[a](b)})})(e);d.not=f;var g={};for(e in d)(function(a){d.hasOwnProperty(a)&&(g[a]=function(a){})})(e);d.all=g;var h={};for(var i in d)(function(a){d.hasOwnProperty(a)&&(h[a]=function(a){})})(i);return d.any=h,d}(this),this["if"]=function(a){var b={};b.is={},b.is.not={};for(var c in a.is)(function(c){"not"!=c&&(b.is[c]=function(b,d){return a.is[c](b)?d():void 0},b.is.not[c]=function(b,d){return a.is.not[c](b)?d():void 0})})(c);return b}(this),this.iterator=function(a){return function(a){var b=-1;return{next:function(){return b<a.length?{value:a[++b],done:!1}:{done:!0}},prev:function(){return b>-1?{value:a[--b],done:!1}:{done:!0}},current:function(){return{value:a[b],done:!1}},index:function(){return b}}}}(this),this.publisher=function(a,b){var c={};return c.subscribers={any:[]},c.subscribe=function(a,b){b=b||"any";for(var c,d=_.spliteAndTrim(b),e=0;c=d[e];e++)_.is.not.defined(this.subscribers[c])&&(this.subscribers[c]=[]),this.subscribers[c].push(a)},c.unsubscribe=function(a,b){this.visitSubscribers("unsubscribe",a,b)},c.publish=function(a,b){b=_.assignIfNotDefined(b,{}),this.visitSubscribers("publish",b,a)},c.visitSubscribers=function(a,b,c){for(var d,e=c||"any",f=this.subscribers[e],g=(f.length,0);d=f[g];g++)"publish"===a?d(b):"unsubscribe"===a&&d==b&&f.splice(g,1)},function(a){a=a||{};var b;for(b in c)c.hasOwnProperty(b)&&_.is["function"](c[b])&&(a[b]=c[b]);return a.subscribers={any:[]},a}}(this),this.select=function(a,b){b=b||document.body;var c="";return c=this.is.string(a)?b.querySelectorAll(a):a,this.is.nodeList(c)?c=this.argToArray(c):this.is.HTMLCollection(c)?c=this.argToArray(c):this.is.array(c)||(c=[c]),c},this.selectFirst=function(a,b){return _.valueOf(_.select(a,b),0)}};return{installHelperOn:function(a){c.call(a)},get:function(){return new c}}}();"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?exports=module.exports=c.get():this._=c.get()}).call(this);
//# sourceMappingURL=sutility-0.0.1.min.js.map